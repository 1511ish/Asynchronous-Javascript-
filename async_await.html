<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>asyn await</h2>
    <script>

        //   ------using then() method--------
        // console.log('person1: shows ticket');
        // console.log('person2: shows ticket');

        // const promiseWifeBringingTickets = new Promise( (resolve,reject) => {
        //     setTimeout( () => {
        //         resolve('ticket');
        //     },3000)
        // });

        // const getPopcorn = promiseWifeBringingTickets.then( (t) => {
        //     console.log('wife: i have the tickets');
        //     console.log('husband: we should go in');
        //     console.log('wife: no i am hungry');
        //     return new Promise( (resolve,reject) => resolve('ticket popcorn'))
        // });

        // const getButter = getPopcorn.then( (t) => {
        //     console.log('husband: i got some popcorn');
        //     console.log('husband: we should go in');
        //     console.log('wife: I need butter on my popcorn');
        //     return new Promise( (resolve,reject) => resolve(t+' butter'));
        // })

        // getButter.then( (t) => console.log(t));
        // console.log('person4: shows ticket');
        // console.log('person5: shows ticket');

        //    -----using asyn await------
        // console.log('person1: shows ticket');
        // console.log('person2: shows ticket');

        const preMovie = async () => {

            const promiseWifeBringingTickets = new Promise( (resolve,reject) => {
                setTimeout( () => {resolve('ticket'),3000})
            });

            const getPopcorn = new Promise( (resolve,reject) => resolve('popcorn'));

            const addButter  = new Promise( (resolve,reject) => resolve('butter'));

            const getColdrink = new Promise( (resolve,reject) => resolve('Sprite'));

            let ticket = await promiseWifeBringingTickets;

            console.log('wife: i have the ',ticket);
            console.log('husband: we should go in');
            console.log('wife: no i am hungry');

            let popcorn = await getPopcorn;

            console.log('husband: i got somem ',popcorn);
            console.log('husband: we shoould go in');
            console.log('wife: I need butter on my popcorn');

            let butter = await addButter;

            console.log('husband: i got some ',butter,' on popcorn');
            console.log('husband: anything else darling');
            console.log('wife: coldrink');

            let coldrink = await getColdrink
            console.log(coldrink);
            console.log('husband: anything else!!');
            console.log('wife: lets go we are getting late');
            console.log('husband: thank you for the reminder *grins*');

            return ticket;
        }

        preMovie().then( (t) => console.log('person3: shows ',t));


    </script>
</body>

</html>